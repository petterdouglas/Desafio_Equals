create table empresa (id bigint generated by default as identity, codigo_estabelecimento varchar(10) not null unique, cnpj varchar(255), primary key (id));
create table extrato (total_registros integer, data_processamento timestamp(6), empresa_id bigint not null, id bigint generated by default as identity, periodo_final timestamp(6), periodo_inicial timestamp(6), nome_arquivo varchar(255), tipo_extrato varchar(255), primary key (id));
create table transacao (canal_entrada varchar(2), cartao_holder varchar(4), hora_evento time(6), leitor varchar(2), meio_captura varchar(2), meio_pagamento varchar(2), parcela_liberada integer, plano integer, quantidade_parcelas integer, status_pagamento varchar(2), tipo_evento varchar(2), tipo_pagamento smallint check (tipo_pagamento between 0 and 2), cartao_bin varchar(6), codigo_autorizacao varchar(6), data_evento timestamp(6), data_inicio_transacao timestamp(6), data_pagamento timestamp(6), extrato_id bigint not null, id bigint generated by default as identity, repasse_aplicacao bigint, tarifa_boleto_comprador bigint, tarifa_boleto_vendedor bigint, tarifa_intermediacao bigint, taxa_intermediacao bigint, taxa_parcelamento_comprador bigint, taxa_parcelamento_vendedor bigint, valor_liquido_transacao bigint, valor_original bigint, valor_parcela bigint, valor_total bigint, nsu varchar(11), codigo_pedido varchar(20), bandeira varchar(30), codigo_cv varchar(32), codigo_transacao varchar(32) unique, numero_logico varchar(32), numero_serie_leitor varchar(38), primary key (id));
alter table if exists extrato add constraint FKl5yci4gr2bavuqvhm8njom4r8 foreign key (empresa_id) references empresa;
alter table if exists transacao add constraint FKg88buke58x49b1tocxc0sxue8 foreign key (extrato_id) references extrato;
create table empresa (id bigint generated by default as identity, codigo_estabelecimento varchar(10) not null unique, cnpj varchar(255), primary key (id));
create table extrato (total_registros integer, data_processamento timestamp(6), empresa_id bigint not null, id bigint generated by default as identity, periodo_final timestamp(6), periodo_inicial timestamp(6), nome_arquivo varchar(255), tipo_extrato varchar(255), primary key (id));
create table transacao (canal_entrada varchar(2), cartao_holder varchar(4), hora_evento time(6), leitor varchar(2), meio_captura varchar(2), meio_pagamento varchar(2), parcela_liberada integer, plano integer, quantidade_parcelas integer, status_pagamento varchar(2), tipo_evento varchar(2), tipo_pagamento smallint check (tipo_pagamento between 0 and 2), cartao_bin varchar(6), codigo_autorizacao varchar(6), data_evento timestamp(6), data_inicio_transacao timestamp(6), data_pagamento timestamp(6), extrato_id bigint not null, id bigint generated by default as identity, repasse_aplicacao bigint, tarifa_boleto_comprador bigint, tarifa_boleto_vendedor bigint, tarifa_intermediacao bigint, taxa_intermediacao bigint, taxa_parcelamento_comprador bigint, taxa_parcelamento_vendedor bigint, valor_liquido_transacao bigint, valor_original bigint, valor_parcela bigint, valor_total bigint, nsu varchar(11), codigo_pedido varchar(20), bandeira varchar(30), codigo_cv varchar(32), codigo_transacao varchar(32) unique, numero_logico varchar(32), numero_serie_leitor varchar(38), primary key (id));
alter table if exists extrato add constraint FKl5yci4gr2bavuqvhm8njom4r8 foreign key (empresa_id) references empresa;
alter table if exists transacao add constraint FKg88buke58x49b1tocxc0sxue8 foreign key (extrato_id) references extrato;
create table empresa (id bigint generated by default as identity, codigo_estabelecimento varchar(10) not null unique, cnpj varchar(255), primary key (id));
create table extrato (total_registros integer, data_processamento timestamp(6), empresa_id bigint not null, id bigint generated by default as identity, periodo_final timestamp(6), periodo_inicial timestamp(6), nome_arquivo varchar(255), tipo_extrato varchar(255), primary key (id));
create table transacao (canal_entrada varchar(2), cartao_holder varchar(4), hora_evento time(6), leitor varchar(2), meio_captura varchar(2), meio_pagamento varchar(2), parcela_liberada integer, plano integer, quantidade_parcelas integer, status_pagamento varchar(2), tipo_evento varchar(2), tipo_pagamento smallint check (tipo_pagamento between 0 and 2), cartao_bin varchar(6), codigo_autorizacao varchar(6), data_evento timestamp(6), data_inicio_transacao timestamp(6), data_pagamento timestamp(6), extrato_id bigint not null, id bigint generated by default as identity, repasse_aplicacao bigint, tarifa_boleto_comprador bigint, tarifa_boleto_vendedor bigint, tarifa_intermediacao bigint, taxa_intermediacao bigint, taxa_parcelamento_comprador bigint, taxa_parcelamento_vendedor bigint, valor_liquido_transacao bigint, valor_original bigint, valor_parcela bigint, valor_total bigint, nsu varchar(11), codigo_pedido varchar(20), bandeira varchar(30), codigo_cv varchar(32), codigo_transacao varchar(32) unique, numero_logico varchar(32), numero_serie_leitor varchar(38), primary key (id));
alter table if exists extrato add constraint FKl5yci4gr2bavuqvhm8njom4r8 foreign key (empresa_id) references empresa;
alter table if exists transacao add constraint FKg88buke58x49b1tocxc0sxue8 foreign key (extrato_id) references extrato;
create table empresa (id bigint generated by default as identity, codigo_estabelecimento varchar(10) not null unique, cnpj varchar(255), primary key (id));
create table extrato (total_registros integer, data_processamento timestamp(6), empresa_id bigint not null, id bigint generated by default as identity, periodo_final timestamp(6), periodo_inicial timestamp(6), nome_arquivo varchar(255), tipo_extrato varchar(255), primary key (id));
create table transacao (canal_entrada varchar(2), cartao_holder varchar(4), hora_evento time(6), leitor varchar(2), meio_captura varchar(2), meio_pagamento varchar(2), parcela_liberada integer, plano integer, quantidade_parcelas integer, status_pagamento varchar(2), tipo_evento varchar(2), tipo_pagamento smallint check (tipo_pagamento between 0 and 2), cartao_bin varchar(6), codigo_autorizacao varchar(6), data_evento timestamp(6), data_inicio_transacao timestamp(6), data_pagamento timestamp(6), extrato_id bigint not null, id bigint generated by default as identity, repasse_aplicacao bigint, tarifa_boleto_comprador bigint, tarifa_boleto_vendedor bigint, tarifa_intermediacao bigint, taxa_intermediacao bigint, taxa_parcelamento_comprador bigint, taxa_parcelamento_vendedor bigint, valor_liquido_transacao bigint, valor_original bigint, valor_parcela bigint, valor_total bigint, nsu varchar(11), codigo_pedido varchar(20), bandeira varchar(30), codigo_cv varchar(32), codigo_transacao varchar(32) unique, numero_logico varchar(32), numero_serie_leitor varchar(38), primary key (id));
alter table if exists extrato add constraint FKl5yci4gr2bavuqvhm8njom4r8 foreign key (empresa_id) references empresa;
alter table if exists transacao add constraint FKg88buke58x49b1tocxc0sxue8 foreign key (extrato_id) references extrato;
create table empresa (id bigint generated by default as identity, codigo_estabelecimento varchar(10) not null unique, cnpj varchar(255), primary key (id));
create table extrato (total_registros integer, data_processamento timestamp(6), empresa_id bigint not null, id bigint generated by default as identity, periodo_final timestamp(6), periodo_inicial timestamp(6), nome_arquivo varchar(255), tipo_extrato varchar(255), primary key (id));
create table transacao (canal_entrada varchar(2), cartao_holder varchar(4), hora_evento time(6), leitor varchar(2), meio_captura varchar(2), meio_pagamento varchar(2), parcela_liberada integer, plano integer, quantidade_parcelas integer, status_pagamento varchar(2), tipo_evento varchar(2), tipo_pagamento smallint check (tipo_pagamento between 0 and 2), cartao_bin varchar(6), codigo_autorizacao varchar(6), data_evento timestamp(6), data_inicio_transacao timestamp(6), data_pagamento timestamp(6), extrato_id bigint not null, id bigint generated by default as identity, repasse_aplicacao bigint, tarifa_boleto_comprador bigint, tarifa_boleto_vendedor bigint, tarifa_intermediacao bigint, taxa_intermediacao bigint, taxa_parcelamento_comprador bigint, taxa_parcelamento_vendedor bigint, valor_liquido_transacao bigint, valor_original bigint, valor_parcela bigint, valor_total bigint, nsu varchar(11), codigo_pedido varchar(20), bandeira varchar(30), codigo_cv varchar(32), codigo_transacao varchar(32) unique, numero_logico varchar(32), numero_serie_leitor varchar(38), primary key (id));
alter table if exists extrato add constraint FKl5yci4gr2bavuqvhm8njom4r8 foreign key (empresa_id) references empresa;
alter table if exists transacao add constraint FKg88buke58x49b1tocxc0sxue8 foreign key (extrato_id) references extrato;
create table empresa (id bigint generated by default as identity, codigo_estabelecimento varchar(10) not null unique, cnpj varchar(255), primary key (id));
create table extrato (total_registros integer, data_processamento timestamp(6), empresa_id bigint not null, id bigint generated by default as identity, periodo_final timestamp(6), periodo_inicial timestamp(6), nome_arquivo varchar(255), tipo_extrato varchar(255), primary key (id));
create table transacao (canal_entrada varchar(2), cartao_holder varchar(4), hora_evento time(6), leitor varchar(2), meio_captura varchar(2), meio_pagamento varchar(2), parcela_liberada integer, plano integer, quantidade_parcelas integer, status_pagamento varchar(2), tipo_evento varchar(2), tipo_pagamento smallint check (tipo_pagamento between 0 and 2), cartao_bin varchar(6), codigo_autorizacao varchar(6), data_evento timestamp(6), data_inicio_transacao timestamp(6), data_pagamento timestamp(6), extrato_id bigint not null, id bigint generated by default as identity, repasse_aplicacao bigint, tarifa_boleto_comprador bigint, tarifa_boleto_vendedor bigint, tarifa_intermediacao bigint, taxa_intermediacao bigint, taxa_parcelamento_comprador bigint, taxa_parcelamento_vendedor bigint, valor_liquido_transacao bigint, valor_original bigint, valor_parcela bigint, valor_total bigint, nsu varchar(11), codigo_pedido varchar(20), bandeira varchar(30), codigo_cv varchar(32), codigo_transacao varchar(32) unique, numero_logico varchar(32), numero_serie_leitor varchar(38), primary key (id));
alter table if exists extrato add constraint FKl5yci4gr2bavuqvhm8njom4r8 foreign key (empresa_id) references empresa;
alter table if exists transacao add constraint FKg88buke58x49b1tocxc0sxue8 foreign key (extrato_id) references extrato;
